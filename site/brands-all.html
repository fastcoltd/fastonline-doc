<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>所有品牌 - FASTRESP</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.24.10/antd.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="_style.css">
    <link rel="stylesheet" href="_site.css">
    <style>
        /* 自定义样式 */
        .brands-container { display: flex; gap: 2em; padding: 1em 0; }
        .sidebar { width: 3em; position: sticky; top: 8em; height: calc(100vh - 8em); overflow-y: auto; background: var(--bg-white); border-right: 0.0625em solid var(--border-color); }
        .sidebar ul { list-style: none; padding: 0; margin: 0; text-align: center; }
        .sidebar li { padding: 0.5em 0; font-size: var(--font-medium); }
        .sidebar a { color: var(--text-primary); text-decoration: none; }
        .sidebar a:hover, .sidebar a.active { color: var(--font-green); font-weight: bold; }
        .main-content { flex: 1; }
        .letter-section { margin-bottom: 2em; }
        .letter-title { font-size: var(--font-xlarge); font-weight: bold; color: var(--text-primary); margin-bottom: 1em; border-bottom: 0.0625em solid var(--border-color); padding-bottom: 0.5em; }
        .brand-list { display: flex; flex-wrap: wrap; gap: 1em; }
        .brand-card { flex: 0 0 calc(25% - 1em); background: var(--bg-white); border: 0.0625em solid var(--border-color); border-radius: 0.5em; padding: 1em; transition: border-color 0.2s, box-shadow 0.2s; cursor: pointer; }
        .brand-card:hover { border-color: var(--natural-green); box-shadow: 0 0.3125em 0.9375em rgba(0,0,0,0.1); }
        .brand-card .top-section { display: flex; gap: 1em; margin-bottom: 0.75em; }
        .brand-card .left-section { flex: 0 0 5em; display: flex; flex-direction: column; align-items: center; }
        .brand-card img { width: 4em; height: 4em; border-radius: 50%; margin-bottom: 0.25em; }
        .brand-card h3 { font-size: var(--font-medium); margin: 0; color: var(--text-primary); text-align: center; }
        .brand-card .right-section { flex: 1; }
        .brand-card .company-info { font-size: var(--font-small); color: var(--text-secondary); }
        .brand-card .company-info .company-name { color: var(--text-primary); font-weight: bold; }
        .brand-card .company-info .summary { color: var(--text-secondary); display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
        .brand-card .services-list { margin-bottom: 0.5em; }
        .brand-card .services-list a { color: var(--text-secondary); font-size: var(--font-small); margin-right: 0.5em; }
        .brand-card .services-list a:hover { color: var(--font-green); }
        .brand-card .stats { font-size: var(--font-small); color: var(--text-secondary); display: flex; gap: 1em; flex-wrap: wrap; }
        .brand-card .stats a { color: var(--natural-green); }
        .brand-card .stats a:hover { color: var(--font-green); }

        @media (max-width: 60em) {
            .brands-container { flex-direction: column; }
            .sidebar { width: 100%; height: auto; position: static; border-right: none; border-bottom: 0.0625em solid var(--border-color); padding: 0.5em 0; background: var(--bg-white); z-index: 10; }
            .sidebar ul { display: flex; flex-wrap: nowrap; justify-content: flex-start; overflow-x: auto; white-space: nowrap; padding: 0 0.5em; scrollbar-width: thin; scrollbar-color: var(--natural-green) var(--bg-light); }
            .sidebar ul::-webkit-scrollbar { height: 0.4em; }
            .sidebar ul::-webkit-scrollbar-thumb { background: var(--natural-green); border-radius: 0.2em; }
            .sidebar li { padding: 0.5em 1em; flex-shrink: 0; }
            .brand-card { flex: 0 0 calc(50% - 1em); }
        }
        @media (max-width: 48em) {
            .brand-card { flex: 0 0 100%; padding: 0.75em; }
            .brand-card .left-section { flex: 0 0 4em; }
            .brand-card img { width: 3.5em; height: 3.5em; }
            .brand-card h3 { font-size: var(--font-medium); }
            .brand-card .services-list { font-size: calc(var(--font-small) * 0.9); }
            .brand-card .stats { flex-direction: column; gap: 0.5em; font-size: calc(var(--font-small) * 0.9); }
            .brand-card .company-info { font-size: calc(var(--font-small) * 0.9); }
            .letter-title { font-size: var(--font-large); }
            .sidebar ul { padding: 0 0.25em; }
            .sidebar li { padding: 0.5em 0.75em; }
        }
    </style>
</head>
<body>
<!-- 头部 -->
<div w3-include-html="_header.html"></div>

<!-- 主内容 -->
<div class="container">
    <div class="brands-container">
        <!-- 左侧 A-Z 导航条 -->
        <div class="sidebar">
            <ul id="alphabet-nav"></ul>
        </div>

        <!-- 右侧品牌列表 -->
        <div class="main-content">
            <div id="brands-list"></div>
        </div>
    </div>
</div>

<!-- 底部 -->
<div w3-include-html="_footer.html"></div>

<!-- 脚本 -->
<script src="https://www.w3schools.com/lib/w3.js"></script>
<script src="https://cdn.jsdelivr.net/npm/faker@5.5.3/dist/faker.min.js"></script>
<script src="_fields.js"></script>
<script src="_data.js"></script>
<script src="_location.js"></script>
<script src="_member.js"></script>
<script src="_common.js"></script>
<script>
    // 随机整数函数
    function randomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // 生成随机服务（3-5个）
    function getRandomServices() {
        const shuffled = services.sort(() => 0.5 - Math.random());
        const count = randomInt(2, 4);
        return shuffled.slice(0, count).map(service => service.name);
    }

    // 初始化页面
    window.onload = () => {
        w3.includeHTML(() => {
            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            const nav = document.getElementById('alphabet-nav');
            const list = document.getElementById('brands-list');

            // 生成 A-Z 导航
            alphabet.forEach(letter => {
                const li = document.createElement('li');
                li.innerHTML = `<a href="#${letter}">${letter}</a>`;
                nav.appendChild(li);
            });

            // 对 hotBrands 按名称排序
            const sortedBrands = hotBrands.slice().sort((a, b) => a.name.localeCompare(b.name));

            // 分组并显示品牌
            alphabet.forEach(letter => {
                const brandsForLetter = sortedBrands.filter(brand => brand.name.toUpperCase().startsWith(letter));
                if (brandsForLetter.length > 0) {
                    const section = document.createElement('div');
                    section.className = 'letter-section';
                    section.id = letter;
                    section.innerHTML = `<h2 class="letter-title">${letter}</h2>`;
                    const brandList = document.createElement('div');
                    brandList.className = 'brand-list';

                    brandsForLetter.forEach(brand => {
                        const services = getRandomServices();
                        const demandCount = randomInt(3, 20);
                        const postCount = randomInt(3, 100);
                        const productCount = randomInt(100, 1000);
                        const faqCount = randomInt(3, 20);

                        const card = document.createElement('div');
                        card.className = 'brand-card';
                        card.innerHTML = `
                            <div class="top-section">
                                <div class="left-section">
                                    <img src="${brand.logo}" alt="${brand.name}">
                                    <h3>${brand.name}</h3>
                                </div>
                                <div class="right-section">
                                    <div class="company-info">
                                        <span class="company-name"><a href="${brand.home}" target="_blank" rel="nofollow">${brand.parentCompany}</a></span><br>
                                        <span class="summary">${brand.description}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="services-list">
                                ${services.map(service => `<a href="brands.html?services=${encodeURIComponent(service)}&name=${encodeURIComponent(brand.name)}">${service}</a>`).join(' | ')}
                            </div>
                            <div class="stats">
                                <span>竞标: <a href="demands.html?brandName=${encodeURIComponent(brand.name)}">${demandCount}</a></span>
                                <span>文章: <a href="posts.html?brandName=${encodeURIComponent(brand.name)}">${postCount}</a></span>
                                <span>商品: <a href="items.html?brandName=${encodeURIComponent(brand.name)}">${productCount}</a></span>
                                <span>FAQ: <a href="faqs.html?brandName=${encodeURIComponent(brand.name)}">${faqCount}</a></span>
                            </div>
                        `;
                        brandList.appendChild(card);
                    });

                    section.appendChild(brandList);
                    list.appendChild(section);
                }
            });

            // 高亮当前滚动到的字母
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const letter = entry.target.id;
                        document.querySelectorAll('.sidebar a').forEach(a => {
                            a.classList.toggle('active', a.getAttribute('href') === `#${letter}`);
                        });
                    }
                });
            }, { threshold: 0.5 });

            document.querySelectorAll('.letter-section').forEach(section => observer.observe(section));
        });
    };
</script>
</body>
</html>