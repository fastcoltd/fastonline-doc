/* 引入公共样式 */
@import url('/site/_style.css');
@import url('/site/_site.css');

body {padding-top: 4.2em;}

/* 容器样式 */
.store-container {display: flex; flex-direction: column; max-width: var(--max-content-width); margin: 0 auto; padding: var(--spacing-large); background: var(--store-bg); overflow-x: hidden;}
.store-messages {width: 100%;}
.sidebar-main-wrapper {display: flex; flex-direction: row; width: 100%;}

.sidebar {width: 15em; background: var(--bg-white); padding: var(--spacing-large); border-right: 0.0625em solid var(--store-border); border-radius: var(--radius-large) 0 0 var(--radius-large); display: flex; flex-direction: column; height: 100%;}
.welcome-section {display: flex; align-items: center; gap: var(--spacing-small); margin-bottom: 0; font-size: var(--font-medium); color: var(--store-primary);}
.welcome-section i {font-size: var(--icon-size-medium);}
.welcome-section .role.customer-service {color: var(--store-secondary);}
.welcome-section .role.owner {color: var(--store-accent);}
.store-info {margin-bottom: var(--spacing-medium); text-align: center; font-size: var(--font-medium);font-weight: bold;}
.store-logo {width: 4em; height: 4em; border-radius: 50%; margin-bottom: var(--spacing-small);}
.store-info h3 {margin: 0; font-size: var(--font-large); color: var(--store-primary); white-space: nowrap;overflow: hidden; text-overflow: ellipsis;}

.store-link {color: var(--store-primary); text-decoration: none;}
.store-link:hover {color: var(--store-secondary);}
.balance-rating {display: flex; justify-content: center; align-items: center; gap: var(--spacing-small); margin: var(--spacing-small) 0;}
.balance-rating .fas.fa-wallet {font-size: var(--icon-size-small);} /* 余额图标颜色和大小 */
.store-balance {color: var(--store-accent); }
.rating {color: var(--system-orange);}
.store-info .rating .star-bg svg, .store-info .rating .star-filled svg {stroke: var(--system-orange); fill: var(--system-orange);}
.badges {margin-top: var(--spacing-small); display: flex; flex-wrap: wrap; gap: var(--spacing-small); justify-content: center;}
.divider {height: 1px; background: var(--store-border); margin: var(--spacing-medium) 0;}
.menu {list-style: none; padding: 0; flex-grow: 1;}
.menu li {margin: var(--spacing-small) 0; text-align: center;}
.menu li a {display: flex; align-items: center; justify-content: center; gap: 0.5em; padding: var(--spacing-small); color: var(--store-primary); font-size: var(--font-medium); border-radius: var(--radius-medium); transition: background 0.2s; width: 100%;}
.menu li a:hover {background: var(--store-secondary); color: var(--font-white);}
.menu li.active a {background: var(--store-primary); color: var(--font-white);}

.main-content {flex: 1; padding: var(--spacing-large); background: var(--bg-white); border-radius: 0 var(--radius-large) var(--radius-large) 0; overflow: hidden;} /* 移除滚动条 */

.dashboard-grid {display: grid; grid-template-columns: repeat(5, 1fr); gap: 1.25em;}
.stat-block {background: linear-gradient(135deg, #ffffff, #f9fafb); padding: 1em 1.25em; border-radius: 0.75em; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s ease;}
.stat-block:hover {transform: translateY(-5px); box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15); background: #f5f5f5;}
.stat-block:active {background: #e5e7eb; transform: translateY(0);}
.card-title {font-size: 1.1em; font-weight: 600; margin-bottom: 0.5em; color: #1f2937;}
.card-content {font-size: 1.5em; font-weight: 700; color: #f97316; margin-bottom: 0.25em;}
.card-subtext {font-size: 0.85em; color: #6b7280; font-style: italic;}
.hot-section {margin-top: 2.5em;}
.hot-container {display: grid; grid-template-columns: repeat(auto-fit, minmax(20em, 1fr)); gap: 1.25em;}
.hot-card {background: linear-gradient(135deg, #ffffff, #f9fafb); padding: 1.25em; border-radius: 0.75em; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); overflow-x: auto;}
.hot-title-container {display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75em;}
.hot-title {font-size: 1.1em; font-weight: 600; color: #1f2937;}
.hot-time-filter {display: flex; gap: 8px;}
.hot-header {display: flex; background: #f1f5f9; padding: 0.5em 0; font-weight: 500; color: #4b5563; border-bottom: 1px solid #e5e7eb;}
.hot-header div:nth-child(1) {flex: 2; text-align: center; white-space: nowrap;}
.hot-header div:nth-child(2) {flex: 1; text-align: center; white-space: nowrap;}
.hot-header div:nth-child(3) {flex: 1; text-align: center; white-space: nowrap;}
.hot-header div:nth-child(4) {flex: 1; text-align: center; white-space: nowrap;}
.hot-header div:nth-child(5) {flex: 1; text-align: center; white-space: nowrap;}
.hot-data {max-height: 400px; overflow-y: auto;}
.hot-data::-webkit-scrollbar {width: 6px;}
.hot-data::-webkit-scrollbar-thumb {background: #f59e0b; border-radius: 3px;}
.hot-row {display: flex; padding: 0.5em 0; border-bottom: 1px solid #e5e7eb;}
.hot-row div:nth-child(1) {flex: 2; text-align: center; white-space: nowrap; color: #374151; overflow: hidden; text-overflow: ellipsis;}
.hot-row div:nth-child(2) {flex: 1; text-align: center; white-space: nowrap; color: #374151;}
.hot-row div:nth-child(3) {flex: 1; text-align: center; white-space: nowrap; color: #374151;}
.hot-row div:nth-child(4) {flex: 1; text-align: center; white-space: nowrap; color: #374151;}
.hot-row div:nth-child(5) {flex: 1; text-align: center; white-space: nowrap; color: #374151;}
.hot-row:hover {background: #f5f5f5;}
.hot-link {color: #374151; text-decoration: none;}
.hot-link:hover {color: var(--font-green);}
.charts-section {margin-top: 2.5em;}
.charts-container {display: flex; gap: 1.25em; justify-content: space-between; flex-wrap: wrap;}
.chart-card {background: #fff; padding: 1em; border-radius: 0.5em; box-shadow: 0 0.125em 0.5em rgba(0, 0, 0, 0.1); width: calc(33.33% - 0.833em);}
.chart-title {font-size: 0.875em; font-weight: 500; text-align: right;}
canvas {max-width: 100%; height: auto;}
.filter-row {display: flex; align-items: center; gap: 16px; flex-wrap: nowrap; overflow-x: auto; white-space: nowrap; justify-content: flex-end;}
.brand-service-filter {display: flex; gap: 8px; flex-shrink: 0;}
.brand-service-filter .ant-select {height: 1.8em; line-height: 1.8em;}
.time-filter {display: flex; align-items: center; gap: 8px; flex-shrink: 0;}
.time-btn-group {display: flex; gap: 8px; flex-wrap: nowrap; overflow-x: auto;}
.time-btn {padding: 0.25em 0.75em; border-radius: 0.25em; cursor: pointer; background: #fff; border: 0.0625em solid #d9d9d9; color: rgba(0, 0, 0, 0.85); transition: all 0.3s; font-size: 0.875em; height: 1.8em; line-height: 1.5em;}
.time-btn:hover {background: #f5f5f5; border-color: #f97316; color: #f97316;}
.time-btn.active {background: #f97316; border-color: #f97316; color: #fff;}
.time-btn:focus {outline: none; border-color: #f97316; box-shadow: 0 0 0 0.125em rgba(249, 115, 22, 0.2);}

/* 店铺消息 */
.store-message {display: flex; align-items: center; padding: 0.25em 1em; margin-bottom: 0.5em; border-radius: var(--radius-medium); font-size: var(--font-small); position: relative; overflow: hidden;}
.store-message .message-content {flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}
.store-message .message-time {margin-left: 1em; font-size: 0.85em; color: #6b7280;}
.store-message .message-btn {margin-left: 1em; padding: 0.25em 0.75em; background: #fff; border: 1px solid #d9d9d9; border-radius: 0.25em; cursor: pointer;}
.store-message .message-btn:hover {background: #f5f5f5;}
.store-message .close-message {margin-left: 1em; cursor: pointer; color: #6b7280;}
.store-message .close-message:hover {color: #d32f2f;}
.store-message .scrolling {animation: scroll 10s linear infinite;}
.store-message i{margin-right: 0.5em;font-size: var(--font-large);width: 1.2em;}
@keyframes scroll {
    0% {transform: translateX(0);}
    40% {transform: translateX(calc(-100% + 100px));}
    60% {transform: translateX(calc(-100% + 100px));}
    100% {transform: translateX(0);}
}

/* 保证金和佣金 */
.extra-info {display: flex; justify-content: center; gap: 1em; margin-top: var(--spacing-small); font-size: var(--font-medium); color: #374151;}
.extra-info span {cursor: pointer; display: flex; align-items: center; gap: 0.5em;}
.extra-info i {color: var(--store-primary);font-size: var(--icon-size-small)}

/* 通用提示 */
.tooltip {position: absolute; background: #333; color: #fff; padding: 0.5em; border-radius: 0.25em; font-size: 0.85em; z-index: 1000; max-width: 20em; text-align: center;}

/* 佣金弹窗 */
.commission-popup {z-index: 1000;}
.commission-popup.hover-mode {position: absolute; background: none;}
.commission-popup .popup-content {background: #fff; padding: 1.5em; border-radius: 0.5em; position: relative; max-width: 35em; width: 100%; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);}
.commission-popup.hover-mode .popup-content::before {
    content: '';
    position: absolute;
    top: 50%;
    left: -10px; /* 移到左侧 */
    transform: translateY(-50%);
    border: 5px solid transparent;
    border-right-color: #fff; /* 向右箭头 */
}
.commission-popup:not(.hover-mode) {position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center;}
.commission-popup h3 {margin-top: 0; font-size: 1.25em; color: #f59e0b;}
.commission-popup h4 {margin: 1em 0 0.5em; font-size: 1em;}
.commission-popup ul {list-style: none; padding: 0;}
.commission-popup li {margin: 0.5em 0; display: flex; align-items: center; gap: 0.5em; white-space: nowrap;}
.commission-popup .action-btn {margin-left: 0.5em; padding: 0.25em 0.75em; background: #4CAF50; color: #fff; border-radius: 0.25em; text-decoration: none; font-size: 0.85em;}
.commission-popup .action-btn:hover {background: #45a049;}
.commission-popup .close-btn {position: absolute; top: 0.5em; right: 0.5em; background: none; border: none; font-size: 1.25em; cursor: pointer; color: #6b7280;}
.commission-popup .close-btn:hover {color: #d32f2f;}


/* 移动端适配 */
@media (max-width: 48em) {
    .store-container {flex-direction: column;}
    .sidebar {width: 100%; border-right: none; border-radius: var(--radius-large) var(--radius-large) 0 0;}
    .main-content {border-radius: 0 0 var(--radius-large) var(--radius-large);}
    .dashboard-grid {grid-template-columns: 1fr;}
    .stat-block {padding: 1em; border-radius: 0.5em;}
    .hot-container {grid-template-columns: 1fr;}
    .hot-data {max-height: 25em;}
    .charts-container {flex-direction: column;}
    .chart-card {width: 100%; margin: 0;}
    .filter-row {gap: 8px; flex-direction: column; align-items: flex-start; flex-wrap: wrap; overflow-x: initial; white-space: normal; justify-content: flex-start;}
    .brand-service-filter {width: 100%; flex-direction: column; gap: 4px;}
    .brand-service-filter .ant-select {width: 100%; height: 1.8em; line-height: 1.8em;}
    .time-filter {width: 100%;}
    .time-btn-group {gap: 4px; flex-wrap: wrap; width: 100%; justify-content: flex-start;}
    .time-btn {font-size: 0.75em; padding: 0.2em 0.5em; height: 1.8em;}
}